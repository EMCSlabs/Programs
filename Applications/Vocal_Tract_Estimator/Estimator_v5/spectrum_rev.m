function [Y,freq] = spectrum_rev(signal, srate)%% Plot log magnitude of FFT spectrum % after applying Hamming window% Input arguments:%	signal		signal to analyze%	srate		sampling rate in HzN = 500;first= 1;last = first+N-1;% Plot original and Hamming windowed signal% compare (signal(first:last), hamming(N) .* signal(first:last))% pausesignal = signal';%Y = fft(signal(1:N) .* hamming(N));Y = fft(signal(1:N));% get frequency values of successive fft pointsw = 0:2*pi/N:2*pi-(2*pi/N);  % these are values in radians/samplefreq = w*srate/(2*pi);       % these are values in Hz% figure (1)% plot (freq(1:(N/2)+1), 20*log10(abs(Y(1:(N/2)+1))))% xlabel ('Frequency in Hz')% ylabel ('DB')% grid% % figure(2)%plot (freq(1:(N/2)+1), (abs(Y(1:(N/2)+1))),'-o')% stem (freq(1:(N/2)+1), (abs(Y(1:(N/2)+1))))% % xlabel ('Frequency in Hz')% ylabel ('Amplitude')% grid